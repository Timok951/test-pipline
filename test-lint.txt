lint-project:
  tags:
    - django
    - shell
  stage: lint
  before_script:
    - python3 -m venv $VENV_PATH
    - source $VENV_PATH/bin/activate
    - pip install --upgrade pip
    - pip install -r requirements.txt
    - pip install flake8
  script:
    - mkdir -p reports
    - flake8 shop apps --statistics > reports/flake8-report.txt || true
  artifacts:
    paths:
      - reports/flake8-report.txt
    expire_in: 1 week